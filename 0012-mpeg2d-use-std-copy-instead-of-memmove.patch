From 77843a0d2ef03b339855f5cccc8ca608b743cafa Mon Sep 17 00:00:00 2001
From: Dmitry Rogozhkin <dmitry.v.rogozhkin@intel.com>
Date: Tue, 16 Oct 2018 04:11:08 -0700
Subject: [PATCH 12/15] mpeg2d: use std::copy instead of memmove

Signed-off-by: Dmitry Rogozhkin <dmitry.v.rogozhkin@intel.com>
---
 _studio/shared/umc/codec/mpeg2_dec/src/umc_mpeg2_dec_dxva.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/_studio/shared/umc/codec/mpeg2_dec/src/umc_mpeg2_dec_dxva.cpp b/_studio/shared/umc/codec/mpeg2_dec/src/umc_mpeg2_dec_dxva.cpp
index 0e53641..0378241 100644
--- a/_studio/shared/umc/codec/mpeg2_dec/src/umc_mpeg2_dec_dxva.cpp
+++ b/_studio/shared/umc/codec/mpeg2_dec/src/umc_mpeg2_dec_dxva.cpp
@@ -144,8 +144,7 @@ PackVA::SaveVLDParameters(
         if (slice.slice_vertical_position == prevSlice.slice_vertical_position && slice.slice_horizontal_position == prevSlice.slice_horizontal_position)
         {
             // remove slice duplication
-            memmove_s(&pSliceInfoBuffer[i - 1], (pSliceInfo - &pSliceInfoBuffer[i]) * sizeof(VASliceParameterBufferMPEG2),
-                &pSliceInfoBuffer[i], (pSliceInfo - &pSliceInfoBuffer[i]) * sizeof(VASliceParameterBufferMPEG2));
+            std::copy(&pSliceInfoBuffer[i], pSliceInfo, &pSliceInfoBuffer[i-1]);
             numSlices--;
             pSliceInfo--;
             i--;
-- 
2.17.2

